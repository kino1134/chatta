<template>
  <div class="container is-fluid">
    <aside class="sidebar menu">
      <header>
        ろぐいんゆーざ
      </header>
      <div class="room-list">
        <p class="menu-label">
        お気に入り
        </p>
        <ul class="menu-list">
          <li><a href="#">ルームＡ</a></li>
          <li><a href="#">ルームＢ</a></li>
          <li><a href="#">ルームＣ</a></li>
        </ul>
        <p class="menu-label">
        チャンネル
        </p>
        <ul class="menu-list">
          <li><a href="#">ルームＤＤＤＤＤＤＤＤＤＤＤＤＤＤＤＤＤあ</a></li>
          <li><a href="#">ルームＥ</a></li>
          <li><a href="#">ルームＦ</a></li>
        </ul>
        <p class="menu-label">
        グループ
        </p>
        <ul class="menu-list">
          <li><a href="#">ルームＧ</a></li>
          <li><a href="#">ルームＨ</a></li>
          <li><a href="#">ルームＩ</a></li>
        </ul>
        <p class="menu-label">
        メッセージ
        </p>
        <ul class="menu-list">
          <li><a href="#">あいさん</a></li>
          <li><a href="#">びーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">しーさん</a></li>
          <li><a href="#">でぃーさん</a></li>
        </ul>
      </div>
    </aside>
    <div class="room">
      <header>
        るーむめい
      </header>
      <div class="messages">
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64"><img src="https://bulma.io/images/placeholders/128x128.png"></p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong>John Smith</strong> <small>@johnsmith</small> <small>31m</small>
                <br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.
              </p>
            </div>
          </div>
        </article>
      </div>
      <footer>
        <textarea v-model="value" id="" class="textarea" name="" :rows="rows" placeholder="メッセージ"></textarea>
        <div class="field has-addons">
          <p class="control">
            <a class="button">
              +
            </a>
          </p>
          <p class="control">
            <a class="button">
              <i class="fas fa-at"></i>
            </a>
          </p>
          <p class="control">
            <a class="button">
              <i class="far fa-meh"></i>
            </a>
          </p>
          <p class="control main">
            <textarea v-model="value" id="" class="textarea" name="" :rows="rows" placeholder="メッセージ"></textarea>
          </p>
          <p class="control">
            <a class="button">
              <i class="fas fa-comment-alt"></i>
            </a>
          </p>
        </div>
      </footer>
    </div>
  </div>
  <!-- <section class="container"> -->
  <!--   <img src="~assets/img/logo.png" alt="Nuxt.js Logo" class="logo" /> -->
  <!--   <h1 class="title"> -->
  <!--     USERS -->
  <!--   </h1> -->
  <!--   <ul class="users"> -->
  <!--     <li v-for="(user, index) in users" :key="index" class="user"> -->
  <!--       <nuxt-link :to="{ name: 'id', params: { id: index }}"> -->
  <!--         {{ user.name }} -->
  <!--       </nuxt-link> -->
  <!--     </li> -->
  <!--   </ul> -->
  <!-- </section> -->
</template>

<script>
import axios from '~/plugins/axios'

export default {
  computed: {
    rows () {
      var num = this.value.split('\n').length
      return num
    }
  },
  async asyncData () {
    let { data } = await axios.get('/api/users')
    return { users: data, value: '' }
  },
  head () {
    return {
      title: 'Users'
    }
  }
}
</script>

<style lang="scss" scoped>

$sidebar-width: 220px;

.container {
  display: flex;
  width: 100%;
  margin: 0;
}

.sidebar {
  flex: 0 0 $sidebar-width;
  background-color: #abcdef;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.room-list{
  overflow-x: hidden;
  overflow-y: scroll;
  flex: 1 1 0;
  .menu-label {
    padding: 0 24px;
  }
  .menu-list {
    li {
      padding: 0 24px;
    }
    a {
      width: $sidebar-width - 48;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  }
}

.room {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  .messages {
    padding: 50px 50px 0;
    flex: 1 1 0;
    overflow-x: hidden;
    overflow-y: scroll;
  }
  footer {
    padding: 24px;
    .has-addons {
      .button {
        height: 100%;
      }
      .control.main {
        flex: 1 1 auto;
      }
      .textarea {
        border-radius: 0;
      }
    }
    .textarea {
      resize: none;
    }
  }
}
</style>
